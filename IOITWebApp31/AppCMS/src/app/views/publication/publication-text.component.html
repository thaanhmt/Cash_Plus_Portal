<div class="animated fadeIn cms-main">
  <div class="card cms-content">
    <div class="titleCat">
      <h1 class="cms-heading-inline">Danh sách ấn phẩm</h1>
      <button *ngIf="CheckRole.Create" class="cms-addnew" type="button" (click)="OpenNewsModal(undefined, 0)"><i class="fa fa-plus"></i>&nbsp;Thêm mới</button>
    </div>
    <div class="description-page">
      <blockquote class="{{isNoitify ? 'hidden' : ''}}">
        <p>Khu vực hiển thị danh sách các ấn phẩm đã được xuất bản. Khu vực này chỉ cho Tổng biên tập, Thư ký tạp chí mới có quyền duyệt, thêm mới, xuất bản trực tiếp và chỉnh sửa lại. Chỉ quyền Tổng biên tập để xoá những bài viết ở khu vực này! </p>
        <a class="close" href="javascript:void(0)" (click)="closeNoityfy()"><span>×</span></a>
      </blockquote>
    </div>
    <div class="card-body">
      <div id="DataTables_Table_0_wrapper" class="dataTables_wrapper dt-bootstrap4 no-footer">
        <div class="row cms-filter">
          <div class="col-sm-12 col-md-6" style="padding-left:0px; margin-left: -5px;    display: flex;">
            <ul class="cms-subsubsub">
              <li class="all">
                <a href="javascript:void(0)" class="{{activeU ? 'current' : ''}}" (click)="QueryChanged()" aria-current="page">
                  <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="globe-asia" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" class="svg-inline--fa fa-globe-asia fa-w-16"><path fill="currentColor" d="M248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm-11.34 240.23c-2.89 4.82-8.1 7.77-13.72 7.77h-.31c-4.24 0-8.31 1.69-11.31 4.69l-5.66 5.66c-3.12 3.12-3.12 8.19 0 11.31l5.66 5.66c3 3 4.69 7.07 4.69 11.31V304c0 8.84-7.16 16-16 16h-6.11c-6.06 0-11.6-3.42-14.31-8.85l-22.62-45.23c-2.44-4.88-8.95-5.94-12.81-2.08l-19.47 19.46c-3 3-7.07 4.69-11.31 4.69H50.81C49.12 277.55 48 266.92 48 256c0-110.28 89.72-200 200-200 21.51 0 42.2 3.51 61.63 9.82l-50.16 38.53c-5.11 3.41-4.63 11.06.86 13.81l10.83 5.41c5.42 2.71 8.84 8.25 8.84 14.31V216c0 4.42-3.58 8-8 8h-3.06c-3.03 0-5.8-1.71-7.15-4.42-1.56-3.12-5.96-3.29-7.76-.3l-17.37 28.95zM408 358.43c0 4.24-1.69 8.31-4.69 11.31l-9.57 9.57c-3 3-7.07 4.69-11.31 4.69h-15.16c-4.24 0-8.31-1.69-11.31-4.69l-13.01-13.01a26.767 26.767 0 0 0-25.42-7.04l-21.27 5.32c-1.27.32-2.57.48-3.88.48h-10.34c-4.24 0-8.31-1.69-11.31-4.69l-11.91-11.91a8.008 8.008 0 0 1-2.34-5.66v-10.2c0-3.27 1.99-6.21 5.03-7.43l39.34-15.74c1.98-.79 3.86-1.82 5.59-3.05l23.71-16.89a7.978 7.978 0 0 1 4.64-1.48h12.09c3.23 0 6.15 1.94 7.39 4.93l5.35 12.85a4 4 0 0 0 3.69 2.46h3.8c1.78 0 3.35-1.18 3.84-2.88l4.2-14.47c.5-1.71 2.06-2.88 3.84-2.88h6.06c2.21 0 4 1.79 4 4v12.93c0 2.12.84 4.16 2.34 5.66l11.91 11.91c3 3 4.69 7.07 4.69 11.31v24.6z" class=""></path></svg>
                  Tất cả <span class="count">({{ paging.item_count }})</span>
                </a>
              </li>
              <li class="publish">
                <a style="margin-left:5px;" (click)="StatusChanged(1)">
                  <svg aria-hidden="true" class="svg-inline--fa fa-cannabis fa-w-16" data-icon="cannabis" data-prefix="fas" focusable="false" role="img" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path class="" d="M503.47 360.25c-1.56-.82-32.39-16.89-76.78-25.81 64.25-75.12 84.05-161.67 84.93-165.64 1.18-5.33-.44-10.9-4.3-14.77-3.03-3.04-7.12-4.7-11.32-4.7-1.14 0-2.29.12-3.44.38-3.88.85-86.54 19.59-160.58 79.76.01-1.46.01-2.93.01-4.4 0-118.79-59.98-213.72-62.53-217.7A15.973 15.973 0 0 0 256 0c-5.45 0-10.53 2.78-13.47 7.37-2.55 3.98-62.53 98.91-62.53 217.7 0 1.47.01 2.94.01 4.4-74.03-60.16-156.69-78.9-160.58-79.76-1.14-.25-2.29-.38-3.44-.38-4.2 0-8.29 1.66-11.32 4.7A15.986 15.986 0 0 0 .38 168.8c.88 3.97 20.68 90.52 84.93 165.64-44.39 8.92-75.21 24.99-76.78 25.81a16.003 16.003 0 0 0-.02 28.29c2.45 1.29 60.76 31.72 133.49 31.72 6.14 0 11.96-.1 17.5-.31-11.37 22.23-16.52 38.31-16.81 39.22-1.8 5.68-.29 11.89 3.91 16.11a16.019 16.019 0 0 0 16.1 3.99c1.83-.57 37.72-11.99 77.3-39.29V504c0 4.42 3.58 8 8 8h16c4.42 0 8-3.58 8-8v-64.01c39.58 27.3 75.47 38.71 77.3 39.29a16.019 16.019 0 0 0 16.1-3.99c4.2-4.22 5.71-10.43 3.91-16.11-.29-.91-5.45-16.99-16.81-39.22 5.54.21 11.37.31 17.5.31 72.72 0 131.04-30.43 133.49-31.72 5.24-2.78 8.52-8.22 8.51-14.15-.01-5.94-3.29-11.39-8.53-14.15z" fill="currentColor"></path></svg>
                  Đã xuất bản
                  <span class="count">({{ total1 }})</span>
                </a> |
              </li>
              <li class="trash">
                <a style="margin-left:5px;" (click)="StatusChanged(19)">
                  <svg aria-hidden="true" class="svg-inline--fa fa-alarm-clock fa-w-16" data-icon="alarm-clock" data-prefix="fas" focusable="false" role="img" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path class="" d="M96 0A96 96 0 0 0 0 96a94.81 94.81 0 0 0 15.3 51.26L161.2 25.68A95.63 95.63 0 0 0 96 0zm320 0a95.66 95.66 0 0 0-65.18 25.66l145.89 121.57A94.85 94.85 0 0 0 512 96a96 96 0 0 0-96-96zM256 64C132.3 64 32 164.29 32 288a222.7 222.7 0 0 0 44.79 134l-40.1 40.09a16 16 0 0 0 0 22.63l22.62 22.62a16 16 0 0 0 22.63 0L122 467.22a222.82 222.82 0 0 0 268 0l40.1 40.09a16 16 0 0 0 22.62 0l22.63-22.62a16 16 0 0 0 0-22.63L435.25 422A222.69 222.69 0 0 0 480 288c0-123.71-100.26-224-224-224zm90 291.51l-20 25a16 16 0 0 1-22.49 2.5L239 331.39a40 40 0 0 1-15-31.23V176a16 16 0 0 1 16-16h32a16 16 0 0 1 16 16v112.62l55.5 44.4a16 16 0 0 1 2.5 22.49z" fill="currentColor"></path></svg>
                  Chưa xuất bản
                  <span class="count">({{ total2 }})</span>
                </a> |
              </li>
            </ul>
          </div>
          <div class="col-sm-12 col-md-6" style="display: flex; justify-content: flex-end;align-items: flex-end; padding-right:0">
            <label style="margin-right:10px;display: flex;align-items: center;">
              <span class="search-box">Tìm kiếm</span>
              <input type="text" class="form-control form-control-sm" placeholder="Nhập từ khóa cần tìm...." aria-controls="DataTables_Table_0" [(ngModel)]="q.txtSearch" (keyup.enter)="QueryChanged()">
            </label>
            <div class="dataTables_length" id="DataTables_Table_0_length">
              <label>
                Xem&nbsp;
                <select name="DataTables_Table_0_length" aria-controls="DataTables_Table_0" class="custom-select custom-select-sm form-control form-control-sm" [(ngModel)]="paging.page_size" (change)="GetListPublication()">
                  <option value="10">10</option>
                  <option value="25">25</option>
                  <option value="50">50</option>
                  <option value="100">100</option>
                </select>&nbsp;bản ghi
              </label>
            </div>
          </div>
        </div>
        <div class="row cms-filter action-table">
          <div class="col-sm-6 col-md-3" style="padding:0">
            <ng-select class="mw150-select"
                       [items]="ActionTable"
                       bindLabel="Name"
                       bindValue="Id"
                       [clearable]="true"
                       placeholder="Tác vụ"
                       [(ngModel)]="ActionId"
                       [ngModelOptions]="{standalone: true}">
            </ng-select>
            <button class="cms-addnew button-action" type="button" [disabled]="!ActionId" (click)="ActionTableFunc()">&nbsp;Áp dụng</button>
          </div>
          <div class="col-sm-12 col-md-9" style="text-align:right; padding-right:0">
            <ng-select [items]="listAuthor"
                       class="mw150-select"
                       bindLabel="Name"
                       bindValue="AuthorId"
                       [multiple]="false"
                       placeholder="Tác Giả"
                       (change)="QueryChanged()"
                       [(ngModel)]="q.AuthorId"
                       [ngModelOptions]="{standalone: true}"
                       style="text-align:left;">
            </ng-select>
            <ng-select [items]="listLanguage"
                       class="mw200-select"
                       bindLabel="Name"
                       bindValue="LanguageId"
                       [multiple]="false"
                       placeholder="Ngôn ngữ"
                       (change)="QueryChanged()"
                       [(ngModel)]="q.LanguageId"
                       [ngModelOptions]="{standalone: true}"
                       style="text-align:left;">
            </ng-select>
          </div>
        </div>
        <div class="row content-table-data">
          <div class="col-sm-12">
            <table class="table table-striped table-bordered datatable dataTable no-footer list-cat " id="DataTables_Table_0" role="grid" aria-describedby="DataTables_Table_0_info">
              <thead>
                <tr role="row">
                  <th *ngIf="CheckRole.Delete" class="btn-action-table" style="width:15px;">
                    <div class="squaredcheck">
                      <input type="checkbox" class="checkbox1" id="CheckAll" name="CheckAll" [value]="true" (change)="CheckActionTable(undefined)" [(ngModel)]="CheckAll">
                      <label for="CheckAll"><span></span></label>
                    </div>
                  </th>
                  <th class="text-center" style="width:30px;">
                    STT
                  </th>
                  <th class="column-name">
                    <span class="sortBy" [ngClass]="GetClassSortTable('Title')" (click)="SortTable('Title')">Tiêu đề</span>
                  </th>
                  <th class="column-thumb text-center"><i class="fa fa-image"></i></th>
                  <!--<th style="width:180px;">Danh mục</th>-->
                  <th class="text-center" style="width:95px;">
                    <span class="sotyBy" [ngClass]="GetClassSortTable('ViewNumber')" (click)="SortTable('ViewNumber')">Số chuyên đề</span>
                  </th>
                  <th class="text-center" style="width:100px;">
                    Ngày xuất bản
                  </th>
                  <!--<th class="text-center" *ngIf="listLanguage.length > 1">Ngôn ngữ</th>-->
                  <th class="text-center" style="width:100px;">
                    Tác Giả
                  </th>
                  <th class="text-center" style="width:65px;">
                    <span class="sotyBy" [ngClass]="GetClassSortTable('CreatedAt')" (click)="SortTable('CreatedAt')">Ngày đăng</span>
                  </th>
                  <th *ngIf="CheckRole.Update" class="text-center" style="width:65px;">Xuất Bản</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of listNews; let i = index" role="row" ng-class-odd='odd' ng-class-even='even'>
                  <td *ngIf="CheckRole.Delete" class="btn-action-table" style="padding: 0.75rem!important;">
                    <div class="squaredcheck">
                      <input type="checkbox" class="checkbox1" id="Check{{item.PublicationId}}" name="Check{{item.PublicationId}}" [value]="true" [(ngModel)]="item.Action" (change)="CheckActionTable(item.PublicationId)">
                      <label for="Check{{item.PublicationId}}"><span></span></label>
                    </div>
                  </td>
                  <td class="text-center" style="width:30px;">
                    {{i+1}}
                  </td>
                  <td class="column-name name-child">
                    {{item.Title}}
                    <ul class="cms-function">
                      <li class="id-item">ID: {{item.PublicationId}} | </li>
                      <li *ngIf="CheckRole.Update" (click)="OpenNewsModal(item, 1)">Chỉnh sửa | </li>
                      <li *ngIf="CheckRole.View">
                        <a *ngIf="i < 1" href="{{staticDomain}}{{item.Url}}" target="_blank">Xem |</a>
                      </li>
                      <li *ngIf="CheckRole.Delete" (click)="ShowConfirmDelete(item.PublicationId)" class="detete-item">Xóa</li>
                    </ul>
                  </td>
                  <td class="column-thumb">
                    <img *ngIf="item.TypeNewsId == 4 && item.LinkVideo != undefined" src="../../../../assets/Youtube-Icon.png" style="width:25px;height:auto;" alt="Alternate Text" />
                    <img src="../../../../assets/img/no-image1.png" *ngIf="item.Image==undefined && item.TypeNewsId != 4" />
                    <img src="{{ staticDomainMedia }}{{item.Image}}" *ngIf="item.Image!=undefined && item.TypeNewsId != 4" />
                  </td>
                  <!--<td class="name-parend column-cat" style="padding-left:15px !important; cursor: pointer;">
                    <span *ngFor="let cate of item.listCategory" class="badge badge-pill badge-light">
                      <a>{{cate.Name}}</a>
                    </span>
                  </td>-->
                  <td class="text-center column-hs">
                    {{ item.NumberOfTopic }}
                  </td>
                  <td class="text-center column-hs">
                    {{item.DateStartActive | date: 'dd/MM/yyyy'}}
                  </td>
                  <td class="text-center column-hs">
                    {{ item.AuthorName }}
                  </td>
                  <!--<td *ngIf="item.AuthorName == undefined" class="text-center column-hs">
                    Quản trị viên
                  </td>-->
                  <td class="text-center column-hs">
                    {{item.CreatedAt | date: 'dd/MM/yyyy'}}
                  </td>
                  <td *ngIf="CheckRole.Update" class="text-center column-hs">
                    <label style="display: block; padding-top: 2px; margin: auto;" class="switch switch-label switch-pill switch-outline-primary-alt">
                      <input (change)="ConfirmShowHide(item , i)" type="checkbox" class="switch-input" [(ngModel)]="item.IsShow" [ngModelOptions]="{standalone: true}" />
                      <span class="switch-slider" data-checked="&#x2713;" data-unchecked="&#x2715;"></span>
                    </label>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <div class="row cms-paging">
          <div class="col-sm-12 col-md-5">
            <div *ngIf="paging.item_count > 0" class="dataTables_info" id="DataTables_Table_0_info" role="status" aria-live="polite">
              Hiển thị <span>{{ (paging.page - 1) * paging.page_size + 1 }}</span> <i class="fa fa-long-arrow-right"></i>  <span>{{ paging.item_count < paging.page * paging.page_size ? paging.item_count : paging.page * paging.page_size }}</span>&nbsp;<i class="fa fa-ellipsis-v"></i>&nbsp;<span>{{ paging.item_count }}</span> bản ghi
            </div>
          </div>
          <div class="col-xs-12 col-md-7">
            <pagination [totalItems]="paging.item_count" [(ngModel)]="paging.page" [maxSize]="5" [itemsPerPage]="paging.page_size" class="pagination-sm pull-right"
                        previousText="&lsaquo;" nextText="&rsaquo;" [boundaryLinks]="true" (pageChanged)="PageChanged($event)"></pagination>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div [config]="{backdrop: 'static',  keyboard: false}" bsModal #NewsModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-big" role="document" style="max-width:1300px">
    <form class="login-form">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title" *ngIf="Item.PublicationId==undefined && Item.LanguageRootCode == undefined">Thêm mới ấn phẩm</h4>
          <h4 class="modal-title" *ngIf="Item.PublicationId!=undefined">Sửa thông ấn phẩm</h4>
          <h4 class="modal-title" *ngIf="Item.PublicationId==undefined && Item.LanguageRootCode != undefined">Thêm mới ấn phẩm cho ngôn ngữ</h4>
          <button type="button" class="close" (click)="NewsModal.hide()" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="">
            <div class="card-body body-form-add-new">
              <div class="row">
                <div class="col-sm-12 col-md-9">
                  <div class="col-sm-12 col-md-12">

                    <div class="form-group row">
                      <label class="col-md-12 col-form-label" for="Title">Tiêu đề<span *ngIf="Item.Title==undefined || Item.Title==''" style="color: red;">&ngsp;(*)</span></label>
                      <div class="col-md-12">
                        <input type="text" id="Title" name="Title" maxlength="1000" class="form-control" placeholder="" [(ngModel)]="Item.Title" (ngModelChange)="ChangeTitle(1)" autocomplete="off">
                      </div>
                    </div>
                    <div class="form-group row">
                      <label class="col-md-12 col-form-label" for="Url">Đường dẫn<span *ngIf="Item.Url==undefined || Item.Url==''" style="color: red;">&ngsp;(*)</span></label>
                      <div class="col-md-12">
                        <input type="text" id="Url" name="Url" class="form-control" placeholder="" [(ngModel)]="Item.Url" autocomplete="off">
                      </div>
                    </div>
                    <div class="form-group row custom-ckeditor">
                      <label class="col-form-label col-md-12">Nội dung<span *ngIf="Item.Contents==''" style="color: red;">&ngsp;(*)</span></label>
                      <div class="col-md-12">
                        <ckeditor name="Contents"
                                  [(ngModel)]="Item.Contents"
                                  [config]=""
                                  [readonly]="false"
                                  debounce="500">
                        </ckeditor>
                      </div>
                    </div>
                    <div class="translate-wapper-editor" style="background: #f1ffe5; padding: 10px; margin: 15px 0;">
                      <div class="enable-translate">
                        <div class="wapper-langiage">
                          <div class="form-group row">
                            <label class="col-md-12 col-form-label" style="font-size: 18px; font-weight: 500; margin: 0; padding-bottom: 0;">Bản dịch</label>
                            <div class="col-md-12 squaredcheck customize-checked" style="margin-left:15px;">
                              <input type="checkbox" id="IsLanguage" name="IsLanguage" value="" [value]="true" [(ngModel)]="Item.IsLanguage">
                              <label for="IsLanguage"><span style="color:#333 !important; font-weight:500;position:relative;top:0px;display:block;user-select:none">Kích hoạt</span></label>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="block-eng-add" *ngIf="Item.IsLanguage == true">
                        <div class="form-group row">
                          <label class="col-md-12 col-form-label" for="Title">Tiêu đề tiếng anh<span *ngIf="Item.TitleEn==undefined || Item.TitleEn==''" style="color: red;">&ngsp;(*)</span></label>
                          <div class="col-md-12">
                            <input type="text" id="TitleEn" name="TitleEn" maxlength="1000" class="form-control" placeholder="" [(ngModel)]="Item.TitleEn" autocomplete="off">
                          </div>
                        </div>
                        <div class="form-group row custom-ckeditor">
                          <label class="col-form-label col-md-12">Nội dung tiếng anh<span *ngIf="Item.ContentsEn==''" style="color: red;">&ngsp;(*)</span></label>
                          <div class="col-md-12">
                            <ckeditor name="ContentsEn"
                                      [(ngModel)]="Item.ContentsEn"
                                      [config]=""
                                      [readonly]="false"
                                      debounce="500">
                            </ckeditor>
                          </div>
                        </div>
                        <div class="form-group row">
                          <label class="col-md-12 col-form-label" for="DescriptionEn">
                            Mô tả ngắn tiếng anh
                          </label>
                          <div class="col-md-12">
                            <textarea id="DescriptionEn" name="DescriptionEn" maxlength="1000" cols="500" rows="3" class="form-control" placeholder="" [(ngModel)]="Item.DescriptionEn"></textarea>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="form-group row">
                      <label class="col-md-12 col-form-label" for="DatePublic">Ngày xuất bản</label>
                      <div class="col-md-12">
                        <input type="text" id="DatePublic" name="DatePublic" maxlength="200" class="form-control" placeholder="dd/mm/yyyy"
                               [(ngModel)]="Item.DatePublic" autocomplete="off">
                      </div>
                    </div>
                    <div class="form-group row">
                      <label class="col-md-12 col-form-label" for="NumberOfTopic">Số chuyên đề</label>
                      <div class="col-md-10">
                        <input type="text" id="NumberOfTopic" name="NumberOfTopic" maxlength="200" class="form-control" placeholder="Số chuyên đề"
                               [(ngModel)]="Item.NumberOfTopic" autocomplete="off">
                        <!--<ng-select [items]="listNumberOfTopic"
                                   *ngIf="!isNumberOfTopic"
                                   class="mw200-select"
                                   bindLabel="Name"
                                   bindValue="TypeAttributeItemId"
                                   [multiple]="false"
                                   placeholder="Chọn số chuyên đề"
                                   [(ngModel)]="Item.NumberOfTopic"
                                   [ngModelOptions]="{standalone: true}"
                                   style="text-align:left;">
                        </ng-select>-->
                      </div>
                      <!--<div class="col-md-2">
                        <button type="button" class="btn btn-success" (click)="AddType(1)" *ngIf="!isNumberOfTopic">+</button>
                        <button type="button" class="btn btn-success" (click)="SaveNumberOfTopic()" *ngIf="isNumberOfTopic">Thêm</button>
                      </div>-->
                    </div>
                    <div class="form-group row">
                      <label class="col-md-12 col-form-label" for="Author">Tác giả</label>
                      <div class="col-md-10">
                        <input type="text" id="Author" name="Author" maxlength="200"
                               class="form-control" placeholder="" [(ngModel)]="Item.AuthorText"
                               autocomplete="off" *ngIf="isAuthor">
                        <ng-select [items]="listAuthor"
                                   *ngIf="!isAuthor"
                                   class="mw200-select"
                                   bindLabel="Name"
                                   bindValue="AuthorId"
                                   [multiple]="false"
                                   placeholder="Chọn tác giả"
                                   [(ngModel)]="Item.Author"
                                   [ngModelOptions]="{standalone: true}"
                                   style="text-align:left;">
                        </ng-select>
                      </div>
                      <div class="col-md-2">
                        <button type="button" class="btn btn-success" (click)="AddType(2)" *ngIf="!isAuthor">+</button>
                        <button type="button" class="btn btn-success" (click)="SaveAuthor()" *ngIf="isAuthor">Thêm</button>
                      </div>
                    </div>
                    <div class="form-group row">
                      <label class="col-md-12 col-form-label" for="Department">Cơ quan ban ngành</label>
                      <div class="col-md-10">
                        <input type="text" id="Department" name="Department" maxlength="300"
                               class="form-control" placeholder="" [(ngModel)]="Item.DepartmentText"
                               autocomplete="off" *ngIf="isDepartment">
                        <ng-select [items]="listDepartment"
                                   *ngIf="!isDepartment"
                                   class="mw200-select"
                                   bindLabel="Name"
                                   bindValue="TypeAttributeItemId"
                                   [multiple]="false"
                                   placeholder="Cơ quan ban ngành"
                                   [(ngModel)]="Item.Department"
                                   [ngModelOptions]="{standalone: true}"
                                   style="text-align:left;">
                        </ng-select>
                      </div>
                      <div class="col-md-2">
                        <button type="button" class="btn btn-success" (click)="AddType(3)" *ngIf="!isDepartment">+</button>
                        <button type="button" class="btn btn-success" (click)="SaveDepartment()" *ngIf="isDepartment">Thêm</button>
                      </div>
                    </div>
                    <div class="form-group row">
                      <label class="col-md-12 col-form-label" for="Description">
                        Mô tả ngắn (<i>{{newDescription.value.length}}/1000</i>)
                      </label>
                      <div class="col-md-12">
                        <textarea id="Description" name="Description" maxlength="1000" cols="500" rows="3" class="form-control" placeholder="" [(ngModel)]="Item.Description" (ngModelChange)="ChangeTitle(2)" #newDescription></textarea>
                        <!--<textarea id="Description" name="Description" maxlength="1000" cols="500" rows="3" class="form-control" placeholder="" [(ngModel)]="Item.Description" (ngModelChange)="ChangeTitle(2)" #newDescriptionImage></textarea>-->
                        <i>{{newDescription.value.length}}/1000</i>
                      </div>
                    </div>
                    <div class="form-group row">
                      <label class="col-md-12 col-form-label" for="MetaTitle">Meta Title (<i>{{newMetaTitle.value.length}}/200</i>)</label>
                      <div class="col-md-12">
                        <textarea id="MetaTitle" name="MetaTitle" maxlength="200" rows="3" class="form-control" placeholder="" [(ngModel)]="Item.MetaTitle" #newMetaTitle></textarea>

                      </div>
                    </div>
                    <div class="form-group row">
                      <label class="col-md-12 col-form-label" for="MetaKeyword">Meta Keyword   (<i>{{newMetaKeyword.value.length}}/200</i>)</label>
                      <div class="col-md-12">
                        <textarea id="MetaKeyword" name="MetaKeyword" maxlength="200" rows="3" class="form-control" placeholder="" [(ngModel)]="Item.MetaKeyword" #newMetaKeyword></textarea>

                      </div>
                    </div>
                    <div class="form-group row">
                      <label class="col-md-12 col-form-label" for="MetaDescription">Meta Description   (<i>{{newMetaDescription.value.length}}/300</i>)</label>
                      <div class="col col-md-12">
                        <textarea id="MetaDescription" name="MetaDescription" maxlength="300" cols="50" rows="3" class="form-control" placeholder="" [(ngModel)]="Item.MetaDescription" #newMetaDescription></textarea>

                      </div>
                    </div>

                    <div class="form-group row" *ngIf="listLanguage.length > 1">
                      <div class="map-lang" *ngFor="let language of Item.listLanguage; let i = index">
                        <div class="col-md-12">
                          <label class=" col-form-label" for="LangTitle">{{ language.lang?.Name }}</label>
                          <input type="text" id="LangTitle_{{i}}" name="LangTitle_{{i}}" class="form-control" placeholder="" [(ngModel)]="language.news.Title" autocomplete="off" disabled value="{{ language.news?.Title }}">
                        </div>
                      </div>
                    </div>

                  </div>
                </div>

                <div class="col-sm-12 col-md-3 siderbar-product" style="margin-top:20px">
                  <div class="col-sm-12 col-md-12">
                    <div class="form-group row">
                      <label class="col-md-12 col-form-label" for="">Điều khiển</label>
                      <div class="wapper-btn-saveAction">
                        <button type="button" class="btn btn-danger" (click)="SaveNews(10)" *ngIf="Item.PublicationId!=undefined">Gỡ ấn phẩm</button>
                        <button type="button" class="btn btn-danger" (click)="NewsModal.hide()" *ngIf="Item.PublicationId!=undefined">Đóng</button>
                      </div>
                      <div class="saveDraft">
                        <button type="button" class="btn btn-success" appNoDblClickMat (click)="SaveNews(1)">Lưu ấn phẩm <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="share-square" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" class="svg-inline--fa fa-share-square fa-w-18"><path fill="currentColor" d="M568.482 177.448L424.479 313.433C409.3 327.768 384 317.14 384 295.985v-71.963c-144.575.97-205.566 35.113-164.775 171.353 4.483 14.973-12.846 26.567-25.006 17.33C155.252 383.105 120 326.488 120 269.339c0-143.937 117.599-172.5 264-173.312V24.012c0-21.174 25.317-31.768 40.479-17.448l144.003 135.988c10.02 9.463 10.028 25.425 0 34.896zM384 379.128V448H64V128h50.916a11.99 11.99 0 0 0 8.648-3.693c14.953-15.568 32.237-27.89 51.014-37.676C185.708 80.83 181.584 64 169.033 64H48C21.49 64 0 85.49 0 112v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48v-88.806c0-8.288-8.197-14.066-16.011-11.302a71.83 71.83 0 0 1-34.189 3.377c-7.27-1.046-13.8 4.514-13.8 11.859z" class=""></path></svg></button>
                      </div>
                    </div>
                  </div>
                  <div class="col-sm-12 col-md-12">
                    <div class="form-group row">
                      <label class="col-md-12 col-form-label" for="file-input">Ảnh Đại Diện</label>
                      <div class="col-md-12" style="padding:20px">
                        <a href="javascript:void(0);" id="set-post-thumbnail" class="thickbox" (click)="OpenMediaModal()" style="color: #2271b1; text-decoration: underline; font-size: 14px; font-weight: 400;">Đặt ảnh đại diện</a>
                        <input type="text" name="image" value="" [(ngModel)]="Item.Image" hidden />
                        <div style="font-weight:bold;color:green;">
                          <img class="image-upload" *ngIf="Item.Image != undefined" src="{{staticDomainMedia}}/{{ Item.Image }}" style="height:auto;" />
                        </div>
                        <i class="fa fa-trash icon-remove-image" style="" (click)="RemoveImage()" *ngIf="Item.Image != undefined"></i>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-success" appNoDblClickMat (click)="SaveNews(1)">Lưu ấn phẩm</button>
          <button type="button" class="btn btn-danger" (click)="SaveNews(10)" *ngIf="Item.PublicationId!=undefined">Gỡ ấn phẩm</button>
          <button type="button" class="btn btn-danger" (click)="NewsModal.hide()">Đóng</button>
        </div>
      </div>
    </form>
  </div>
</div>
<!--Modal Views Media File-->
<div [config]="{backdrop: 'static',  keyboard: false}" bsModal #OpenMediaFile="bs-modal" class="modal fade modal-views-media" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="attachments-wrapper">
    <div class="edit-media-header">
      <div class="media-frame-title"><h1>Thư viện Media</h1></div>
      <button type="button" class="media-modal-close" (click)="CloseMediaModal()"><i class="fa fa-times" aria-hidden="true"></i></button>
    </div>
    <div class="media-frame-router">
      <ul class="head-tab">
        <li class="item {{isActiveMedia ? 'active' : ''}}" (click)="tabHandleMedia()">Thư viện</li>
        <li class="item {{isActiveUpload ? 'active' : ''}}" (click)="tabHandleMediaUpload()">Tải lên</li>
      </ul>
    </div>
    <div class="upload-file {{isActiveUpload ? 'active' : 'hiden'}}">
      <div class="wapper-modal-upload">
        <div class="modal-content">
          <div class="modal-body">
            <div class="card" style="border: none; padding: 1.5rem; margin-bottom: unset;">
              <div class="card-body body-form-add-new">
                <div class="col-sm-12 col-md-12">
                  <div class="form-group">
                    <div class="drag-drop-area">
                      <div class="drag-drop-inside">
                        <p class="drag-drop-info">Tải lên từ máy tính</p>
                        <div class="progress" style=" height: 14px; margin-top: 10px; font-style: italic; font-weight: 500;" *ngIf="progress!=undefined">
                          <div class="progress-bar progress-bar-striped bg-success"
                               role="progressbar"
                               aria-valuemin="0"
                               aria-valuemax="100"
                               [style.width.%]="progress"
                               [attr.aria-valuenow]="progress">
                            {{progress}}%
                          </div>
                        </div>
                        <p class="text-center" style=" font-size: 14px; margin: 10px 0; color: #005b0c;">(Có thể tải cùng lúc nhiều file)</p>
                        <p class="drag-drop-buttons">
                          <label for="upload-photo" class="label-upload">Tải lên <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="cloud-upload-alt" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" class="svg-inline--fa fa-cloud-upload-alt fa-w-20"><path fill="currentColor" d="M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z" class=""></path></svg></label>
                          <input #file type="file" (change)="upload3(file.files, 1)" id="upload-photo" multiple />
                        </p>
                      </div>
                      <div class="post-upload-ui" id="post-upload-info">
                        <p class="max-upload-size">
                          Kích thước tập tin tải lên tối đa: 512 MB
                        </p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="main-media {{isActiveMedia ? 'active' : 'hiden'}}">
      <div class="attachments-ui" #scrollMe>
        <div class="attachment save-ready" *ngFor="let item of listItemMedia; let i = index">
          <div class="thumb" (click)="SeclectMedia(item)">
            <img src="{{staticDomainMedia}}{{ item.url }}/{{ item.name }}" alt="{{item.name}}" *ngIf="item.type == 1" />
            <img src="{{staticDomain}}images/document.png" alt="media upload" *ngIf="item.type == 4" />
            <img src="{{staticDomain}}images/audio.png" alt="media upload" *ngIf="item.type == 2" />
            <img src="{{staticDomain}}images/video.png" alt="media upload" *ngIf="item.type == 3" />
          </div>
        </div>
      </div>
      <div class="load-more-wrapper">
        <span class="spinner"></span>
        <p class="load-more-count">Đang hiển thị {{countMedia}} của {{countAllMedia}} file media</p>
        <button type="button" class="button load-more button-primary {{isDelay ? 'hiden' : ''}}" (click)="loadMore()">Tải thêm</button>
        <!--<button type="button" class="button chonse-media button-primary {{isDelay ? 'hiden' : ''}}" (click)="ChonseImage()">Chọn ảnh</button>-->
        <div class="{{isDelay ? 'active' : 'hiden'}}">
          <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin:auto;background:#fff;display:block;" width="60px" height="200px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">
            <g>
              <circle cx="73.801" cy="68.263" fill="#e15b64" r="3">
                <animateTransform attributeName="transform" type="rotate" calcMode="spline" values="0 50 50;360 50 50" times="0;1" keySplines="0.5 0 0.5 1" repeatCount="indefinite" dur="1.4925373134328357s" begin="0s"></animateTransform>
              </circle>
              <circle cx="68.263" cy="73.801" fill="#f47e60" r="3">
                <animateTransform attributeName="transform" type="rotate" calcMode="spline" values="0 50 50;360 50 50" times="0;1" keySplines="0.5 0 0.5 1" repeatCount="indefinite" dur="1.4925373134328357s" begin="-0.062s"></animateTransform>
              </circle>
              <circle cx="61.481" cy="77.716" fill="#f8b26a" r="3">
                <animateTransform attributeName="transform" type="rotate" calcMode="spline" values="0 50 50;360 50 50" times="0;1" keySplines="0.5 0 0.5 1" repeatCount="indefinite" dur="1.4925373134328357s" begin="-0.125s"></animateTransform>
              </circle>
              <circle cx="53.916" cy="79.743" fill="#abbd81" r="3">
                <animateTransform attributeName="transform" type="rotate" calcMode="spline" values="0 50 50;360 50 50" times="0;1" keySplines="0.5 0 0.5 1" repeatCount="indefinite" dur="1.4925373134328357s" begin="-0.187s"></animateTransform>
              </circle>
              <circle cx="46.084" cy="79.743" fill="#849b87" r="3">
                <animateTransform attributeName="transform" type="rotate" calcMode="spline" values="0 50 50;360 50 50" times="0;1" keySplines="0.5 0 0.5 1" repeatCount="indefinite" dur="1.4925373134328357s" begin="-0.25s"></animateTransform>
              </circle>
              <circle cx="38.519" cy="77.716" fill="#6492ac" r="3">
                <animateTransform attributeName="transform" type="rotate" calcMode="spline" values="0 50 50;360 50 50" times="0;1" keySplines="0.5 0 0.5 1" repeatCount="indefinite" dur="1.4925373134328357s" begin="-0.312s"></animateTransform>
              </circle>
              <circle cx="31.737" cy="73.801" fill="#637cb5" r="3">
                <animateTransform attributeName="transform" type="rotate" calcMode="spline" values="0 50 50;360 50 50" times="0;1" keySplines="0.5 0 0.5 1" repeatCount="indefinite" dur="1.4925373134328357s" begin="-0.375s"></animateTransform>
              </circle>
              <circle cx="26.199" cy="68.263" fill="#6a63b6" r="3">
                <animateTransform attributeName="transform" type="rotate" calcMode="spline" values="0 50 50;360 50 50" times="0;1" keySplines="0.5 0 0.5 1" repeatCount="indefinite" dur="1.4925373134328357s" begin="-0.437s"></animateTransform>
              </circle>
              <animateTransform attributeName="transform" type="rotate" calcMode="spline" values="0 50 50;0 50 50" times="0;1" keySplines="0.5 0 0.5 1" repeatCount="indefinite" dur="1.4925373134328357s"></animateTransform>
            </g>
          </svg>
        </div>
      </div>
    </div>
  </div>
</div>
