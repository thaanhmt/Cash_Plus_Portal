<div class="animated fadeIn cms-main">
    <div class="card cms-content">
        <div class="titleCat">
            <h1 class="cms-heading-inline">Danh sách bình luận</h1>
            <!-- <button class="cms-addnew" type="button" (click)="OpenCommentModal(undefined)"><i
                    class="fa fa-plus"></i>&nbsp;Thêm mới</button> -->
        </div>

        <div class="card-body">
            <div id="DataTables_Table_0_wrapper" class="dataTables_wrapper dt-bootstrap4 no-footer">
                <div class="row cms-filter">
                    <!-- <div class="col-sm-12 col-md-6" style="padding-left:0px; margin-left: -5px;    display: flex;">
                        <ul class="cms-subsubsub">
                            <li class="all" (click)="ChangeStatust(0)"><a class="current" aria-current="page">Tất cả
                                    <span class="count">({{ total}})</span></a> | </li>
                            <li class="publish" (click)="ChangeStatust(1)"><a>Chờ duyệt <span class="count">({{ ChoDuyet
                                        }})</span></a> | </li>
                            <li class="publish" (click)="ChangeStatust(2)"><a>Đã duyệt <span class="count">({{ DaDuyet
                                        }})</span></a> | </li>
                            <li class="publish" (click)="ChangeStatust(3)"><a>Không duyệt <span class="count">({{
                                        KhongDuyet }})</span></a> | </li>
                            <li class="trash" (click)="ChangeStatust(4)"><a>Spam <span class="count">({{ Spam
                                        }})</span></a></li>
                        </ul>
                    </div> -->

                    <!-- <div class="col-sm-12 col-md-6"
                        style="display: flex; justify-content: flex-end;align-items: flex-end; padding-right:0;">
                        <label style="margin-right:10px;display: flex;align-items: center;"> -->
                            <!--<span class="search-box">Tìm kiếm</span>-->
                            <!--<input type="text" class="form-control form-control-sm" placeholder="Nhập từ khóa cần tìm...." aria-controls="DataTables_Table_0" [(ngModel)]="q.txtSearch" (keyup.enter)="QueryChanged()">-->
                        <!-- </label> -->

                        <!-- <div class="dataTables_length" id="DataTables_Table_0_length">
                            <label>
                                Xem&nbsp;
                                <select name="DataTables_Table_0_length" aria-controls="DataTables_Table_0"
                                    class="custom-select custom-select-sm form-control form-control-sm"
                                    [(ngModel)]="paging.page_size" (change)="GetListCommentPost()">
                                    <option value="10">10</option>
                                    <option value="25">25</option>
                                    <option value="50">50</option>
                                    <option value="100">100</option>
                                </select>&nbsp;bản ghi
                            </label>
                        </div> -->
                    <!-- </div>
                </div> -->
                <!-- <div class="row cms-filter action-table">
                    <div class="col-sm-6 col-md-3" style="padding-left: 0px;">
                        <ng-select class="mw150-select" [items]="ActionTable" bindLabel="Name" bindValue="Id"
                            [clearable]="true" placeholder="Tác vụ" [(ngModel)]="ActionId"
                            [ngModelOptions]="{standalone: true}">
                        </ng-select>
                        <button class="cms-addnew button-action" type="button" [disabled]="!ActionId"
                            (click)="DeleteMuntiAddress()">&nbsp;Áp dụng</button>
                    </div>
                    <div class="col-sm-12 col-md-9">
                    </div>
                </div> -->
                <div class="row content-table-data">
                    <div class="col-sm-12">
                        <table class=" list-cat table table-striped table-bordered datatable dataTable no-footer"
                            id="DataTables_Table_0" role="grid" aria-describedby="DataTables_Table_0_info"
                            style="border-collapse: collapse !important">
                            <thead>
                                <tr role="row">
                                    <th class="btn-action-table" style="width: 5%;">
                                        <div class="squaredcheck">
                                            <input type="checkbox" [(ngModel)]="CheckitemAll"
                                                (click)="CheckAllAddress()" id="CheckAll" name="checkall" />
                                            <label for="CheckAll"><span></span></label>
                                        </div>
                                    </th>
                                    <th style="width: 20%;">
                                        Người bình luận
                                    </th>
                                    <th style="width: 15%;">
                                        Email
                                    </th>
                                    <th style="width: 25%;">
                                        Nội dung bình luận
                                    </th>
                                    <th style="width: 15%;">
                                        Thời gian BL
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let item of listCommentPost; let i = index" role="row" ng-class-odd='odd'
                                    ng-class-even='even'>
                                    <td class="btn-action-table" style="padding: 0.75rem!important;">
                                        <div class="squaredcheck">
                                            <input type="checkbox" id="Check{{item.CommentId}}" class="checkbox1"
                                                name="listcomment" [(ngModel)]="item.IsCheck"
                                                (change)="CheckDeleteAddress(item)">
                                            <label for="Check{{item.CommentId}}"><span></span></label>
                                        </div>
                                    </td>
                                    <td class="name-child column-name">
                                        {{ item.Name }}
                                        <ul class="cms-function">
                                            <li class="id-item">ID: {{item.CommentId}} | </li>
                                            <li (click)="OpenCommentModal(item)">Xem chi tiết | </li>
                                            <li (click)="DuyetComment(item,2)"
                                                *ngIf="item.Status == 1 || item.Status == 3 ||  item.Status == 4">Duyệt
                                                | </li>
                                            <li (click)="DuyetComment(item,3)" *ngIf="item.Status == 2 ">Không Duyệt |
                                            </li>
                                            <li (click)="DeleteComment(item,99)" class="detete-item">Xóa</li>
                                        </ul>
                                    </td>
                                    <td>{{item.EmailComment}}</td>
                                    <td>{{ item.Contents }}</td>
                                    <td>{{ item.CreatedAt | date:'dd/MM/yyyy hh:mm:ss'}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="row cms-paging">
                    <div class="col-sm-12 col-md-5">
                        <div *ngIf="paging.item_count > 0" class="dataTables_info" id="DataTables_Table_0_info"
                            role="status" aria-live="polite">
                            Hiển thị <span>{{ (paging.page - 1) * paging.page_size + 1 }}</span> <i
                                class="fa fa-long-arrow-right"></i> <span>{{ paging.item_count < paging.page *
                                    paging.page_size ? paging.item_count : paging.page * paging.page_size }}</span>
                                    &nbsp;<i class="fa fa-ellipsis-v"></i>&nbsp;<span>{{ paging.item_count }}</span> bản
                                    ghi
                        </div>
                    </div>
                    <div class="col-xs-12 col-md-7">
                        <pagination [totalItems]="paging.item_count" [(ngModel)]="paging.page" [maxSize]="5"
                            [itemsPerPage]="paging.page_size" class="pagination-sm" previousText="&lsaquo;"
                            nextText="&rsaquo;" [boundaryLinks]="true" (pageChanged)="PageChanged($event)"
                            class="pull-right"></pagination>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div [config]="{backdrop: 'static',  keyboard: false}" bsModal #CommentModal="bs-modal" class="modal fade" tabindex="-1"
    role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <form class="login-form">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" *ngIf="Item.CommentId != undefined">Xem thông thông tin bình luận</h4>
                    <button type="button" class="close" (click)="CommentModal.hide()" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body coment-post">
                    <div class="card" style="border: none; padding-bottom: 1.5rem; margin-bottom: unset;">
                        <div class="card-body body-form-add-new">
                            <div class="col-sm-12 col-md-12">
                                <div class="form-group row" style="margin: 15px 0px;">
                                    <label class="col-md-4 col-form-label" for="Name">Người bình chọn<span
                                            *ngIf="Item.TargetId==undefined || Item.TargetId==null"
                                            style="color: red;">&ngsp;(*)</span></label>
                                    <div class="col-md-8">
                                        <input type="text" id="CustomerName" name="CustomerName" maxlength="1000"
                                            class="form-control" placeholder="" [(ngModel)]="Item.CustomerName"
                                            disabled>
                                    </div>
                                </div>
                                <div class="form-group row" style="margin: 15px 0px;">
                                    <label class="col-md-4 col-form-label" for="Url">Người bình luận<span></span></label>
                                    <div class="col-md-8">
                                        <input type="text" id="Name" name="Name" maxlength="1000"
                                            class="form-control" placeholder="" [(ngModel)]="Item.Name"
                                            disabled>
                                    </div>
                                </div>

                                <div class="form-group row" style="margin: 15px 0px;">
                                    <label class="col-md-4 col-form-label" for="Title">Email</label>
                                    <div class="col-md-8">
                                        <input type="text" id="EmailComment" name="EmailComment" maxlength="10000"
                                            class="form-control" placeholder="" [(ngModel)]="Item.EmailComment"
                                            disabled>
                                    </div>
                                </div>

                                <div class="form-group row" style="margin: 15px 0px;">
                                    <label class="col-md-4 col-form-label" for="Title">Nội dung</label>
                                    <div class="col-md-8">
                                        <textarea type="text" id="Contents" name="Contents" maxlength="10000"
                                            class="form-control" placeholder="" [(ngModel)]="Item.Contents" rows="5"
                                            disabled> </textarea>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <!-- <button type="button" class="btn btn-primary" appNoDblClickMat (click)="SaveCommnent()">Lưu thông
                        tin</button> -->
                    <button type="button" class="btn btn-danger" (click)="CommentModal.hide()">Đóng</button>
                </div>
            </div>
        </form>
    </div>
</div>