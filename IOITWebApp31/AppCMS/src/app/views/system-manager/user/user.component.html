<div class="animated fadeIn cms-main">
  <div class="card cms-content">
    <div class="titleCat">
      <h1 class="cms-heading-inline">Danh sách người dùng hệ thống</h1>
      <button class="cms-addnew" type="button" (click)="OpenAddModal()"><i class="fa fa-plus"></i>&nbsp;Thêm mới</button>
    </div>
    <div class="description-page">
      <!--<blockquote class="{{isNoitify ? 'hidden' : ''}}">
        <p>Khu vực hiển thị danh sách các thành viên quản trị website. Hãy quản lý và phân quyền tuỳ thuộc vào chức năng.</p>
        <a class="close" href="javascript:void(0)" (click)="closeNoityfy()"><span>×</span></a>
      </blockquote>-->
    </div>
    <div class="card-body">
      <div id="DataTables_Table_0_wrapper" class="dataTables_wrapper dt-bootstrap4 no-footer">
        <div class="row cms-filter  action-table">
          <div class="col-sm-6 col-md-3" style="margin-left: 0px !important;display: flex;">
            <!--<ul class="cms-subsubsub">
      <li class="all"><a class="current" aria-current="page">Tất cả <span class="count">({{ paging.item_count }})</span></a> | </li>
      <li class="publish"><a>Hoạt động <span class="count">({{ paging.item_count }})</span></a> </li>
    </ul>-->

            <!--<ng-select class="mw150-select"
                       [items]="ActionTable"
                       bindLabel="Name"
                       bindValue="Id"
                       [clearable]="true"
                       placeholder="Tác vụ"
                       [(ngModel)]="ActionId"
                       [ngModelOptions]="{standalone: true}">
            </ng-select>
            <button class="cms-addnew button-action" type="button" [disabled]="!ActionId" (click)="ActionTableFunc()" style="height: 30px;"><i class="fa-solid fa-badge-check"></i> Áp dụng</button>-->
          </div>

          <div class="col-sm-12 col-md-9" style="display: flex; justify-content: flex-end;align-items: flex-end; padding-right:0">
            <ng-select [items]="TypeUserSy"
                       class="mw200-select"
                       bindLabel="Name"
                       bindValue="Id"
                       placeholder="Trạng thái tài khoản"
                       (change)="QueryChanged()"
                       [(ngModel)]="q.TypeUsertId"
                       [ngModelOptions]="{standalone: true}">
            </ng-select>
            <label style="margin-right:10px;display: flex;align-items: center;">
              <span style="width: 200px; text-align: right; margin-right: 5px;">Tìm kiếm</span>
              <input type="text" class="form-control form-control-sm" placeholder="Nhập từ khóa cần tìm...." aria-controls="DataTables_Table_0" [(ngModel)]="q.txtSearch" (keyup.enter)="QueryChanged()">
            </label>

            <div class="dataTables_length" id="DataTables_Table_0_length">
              <label>
                Xem&nbsp;
                <select name="DataTables_Table_0_length" aria-controls="DataTables_Table_0" class="custom-select custom-select-sm form-control form-control-sm" [(ngModel)]="paging.page_size" (change)="GetListUser()">
                  <option value="10">10</option>
                  <option value="25">25</option>
                  <option value="50">50</option>
                  <option value="100">100</option>
                </select>&nbsp;bản ghi
              </label>
            </div>
          </div>
        </div>

        <div class="row content-table-data">
          <div class="col-sm-12">
            <table class="table list-cat table-striped table-bordered datatable dataTable no-footer" id="DataTables_Table_0" role="grid" aria-describedby="DataTables_Table_0_info" style="border-collapse: collapse !important">
              <thead>
                <tr role="row">
                  <!--<th class="btn-action-table" style="width: 5%;">
                    <div class="squaredcheck">
                      <input type="checkbox" class="checkbox1" id="CheckAll" name="CheckAll" [value]="true" (change)="CheckActionTable(undefined)" [(ngModel)]="CheckAll">
                      <label for="CheckAll"><span></span></label>
                    </div>
                  </th>-->
                  <th style="width: 30%;">
                    <span (click)="SortTable('FullName')" [ngClass]="GetClassSortTable('FullName')" class="sortBy">Tên người dùng</span>
                  </th>
                  <th class="column-thumb text-center" style="width: 5%;"><i class="fa fa-image"></i></th>
                  <th style="width: 18%;">
                    <span [ngClass]="GetClassSortTable('UserName')" (click)="SortTable('UserName')" class="sortBy">Tài khoản</span>
                  </th>
                  <th style="width: 15%;">
                    <span [ngClass]="GetClassSortTable('Phone')" (click)="SortTable('Phone')" class="sortBy">Số điện thoại</span>
                  </th>
                  <th style="width: 28%;">
                    <span (click)="SortTable('Email')" [ngClass]="GetClassSortTable('Email')" class="sortBy">Email</span>
                  </th>
                  <th style="width: 25%;">Địa chỉ</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of listUser; let i = index" role="row" ng-class-odd='odd' ng-class-even='even'>
                  <!--<td class="btn-action-table" style="padding: 0.75rem!important;">
                    <div class="squaredcheck">
                      <input type="checkbox" class="checkbox1" id="Check{{item.UserId}}" name="Check{{item.UserId}}" [value]="true" [(ngModel)]="item.Action" (change)="CheckActionTable(item.UserId)">
                      <label for="Check{{item.UserId}}"><span></span></label>
                    </div>
                  </td>-->
                  <td class="sorting_1 name-child column-name">
                    {{ item.FullName }}
                    <ul class="cms-function">
                      <li class="id-item">ID: {{item.UserId}} | </li>
                      <li (click)="OpenEditModal(item)">Chỉnh sửa | </li>
                      <li (click)="OpenResetModal(item)">ResetPasword | </li>
                      <li (click)="LockUser(item.UserId)" *ngIf="item.Status == 1">Khóa TK | </li>
                      <li (click)="OpenUser(item.UserId)" *ngIf="item.Status == 98">Mở TK | </li>
                      <li (click)="ShowConfirmDelete(item.UserId)" class="detete-item">Xóa</li>
                    </ul>
                  </td>
                  <td class="column-thumb">
                    <img src="../../../../assets/img/no-image1.png" style="    border: 1px solid #ccc;" width="40" height="40" *ngIf="item.Avata==undefined" />
                    <img src="{{ staticDomainMedia }}/{{item.Avata}}" style="    border: 1px solid #ccc;" width="40" height="40" *ngIf="item.Avata!=undefined" />
                  </td>
                  <td class="sorting_1">{{ item.UserName }}</td>
                  <td>
                    {{ item.Phone }}
                  </td>
                  <td>
                    {{ item.Email }}
                  </td>
                  <td>
                    {{ item.Address }}
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <div class="row" style="padding-left:15px;">
          <div class="col-sm-12 col-md-6">
            <div *ngIf="paging.item_count > 0" class="dataTables_info" id="DataTables_Table_0_info" role="status" aria-live="polite">
              Hiển thị <span>{{ (paging.page - 1) * paging.page_size + 1 }}</span> <i class="fa fa-long-arrow-right"></i>  <span>{{ paging.item_count < paging.page * paging.page_size ? paging.item_count : paging.page * paging.page_size }}</span>&nbsp;<i class="fa fa-ellipsis-v"></i>&nbsp;<span>{{ paging.item_count }}</span> bản ghi
            </div>
          </div>
          <div class="col-xs-12 col-md-7">
            <pagination [totalItems]="paging.item_count" [(ngModel)]="paging.page" [maxSize]="5" [itemsPerPage]="paging.page_size" class="pagination-sm pull-right"
                        previousText='<i class="fa-solid fa-chevron-left"></i>' nextText='<i class="fa-solid fa-chevron-right"></i>' [boundaryLinks]="true" (pageChanged)="PageChanged($event)"></pagination>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div [config]="{backdrop: 'static',  keyboard: false}" bsModal #UserModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-big" role="document">
    <form class="login-form">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title" *ngIf="!Item.UserId">Thêm mới người dùng</h4>
          <h4 class="modal-title" *ngIf="Item.UserId">Sửa thông tin người dùng</h4>
          <button type="button" class="close" (click)="UserModal.hide()" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="card">
            <div class="card-body body-form-add-new">
              <div class="col-sm-12 col-md-12" style="margin:20px 0px">
                <div class="form-group row">
                  <label class="col-md-2 col-form-label" for="FullName">Tên người dùng<span *ngIf="Item.FullName==undefined || Item.FullName==''" style="color: red;">&ngsp;(*)</span></label>
                  <div class="col-md-10">
                    <input type="text" id="FullName" name="FullName" class="form-control" placeholder="" [(ngModel)]="Item.FullName" autocomplete="off">
                  </div>
                </div>
                <div class="form-group row">
                  <label class="col-md-2 col-form-label" for="UserName">Tài khoản<span *ngIf="Item.UserName==undefined || Item.UserName==''" style="color: red;">&ngsp;(*)</span></label>
                  <div class="col-md-10">
                    <input *ngIf="!Item.UserId" type="text" id="Url" name="Url" class="form-control" placeholder="" [(ngModel)]="Item.UserName" autocomplete="off">
                    <input *ngIf="Item.UserId" type="text" id="Url" name="Url" class="form-control" placeholder="" [(ngModel)]="Item.UserName" autocomplete="off" readonly="readonly">
                  </div>
                </div>
                <div class="form-group row" *ngIf="Item.UserId == undefined">
                  <label class="col-md-2 col-form-label" for="Password">Mật khẩu<span *ngIf="Item.Password==undefined || Item.Password==''" style="color: red;">&ngsp;(*)</span></label>
                  <div class="col-md-10">
                    <input type="password" id="Password" name="Password" class="form-control" placeholder="" [(ngModel)]="Item.Password" autocomplete="off">
                  </div>
                </div>
                <div class="form-group row" *ngIf="Item.UserId == undefined">
                  <label class="col-md-2 col-form-label" for="ConfirmPassword">Xác nhận mật khẩu<span *ngIf="Item.ConfirmPassword!=Item.Password || Item.ConfirmPassword=='' || Item.ConfirmPassword==undefined" style="color: red;">&ngsp;(*)</span></label>
                  <div class="col-md-10">
                    <input type="password" id="ConfirmPassword" name="ConfirmPassword" class="form-control" placeholder="" [(ngModel)]="Item.ConfirmPassword" autocomplete="off">
                  </div>
                </div>
                <div class="form-group row" style=" margin-top: 20px;">
                  <label class="col-md-2 col-form-label" for="file-input">Ảnh Đại Diện</label>
                  <div class="col-md-10" style="padding-top:8px">
                    <a href="javascript:void(0);" id="set-post-thumbnail" class="thickbox" (click)="OpenMediaModal()" style="color: #2271b1; text-decoration: underline; font-size: 14px; font-weight: 400;">Đặt ảnh đại diện</a>
                    <input type="text" name="image" value="" [(ngModel)]="Item.Avata" hidden />
                    <div style="font-weight:bold;color:green;display:flex;align-items:center;">
                      <img class="image-upload" *ngIf="Item.Avata != undefined" src="{{staticDomainMedia}}/{{ Item.Avata }}" style="width:90px; height:90px;object-fit:cover;" />
                      <div style="color: red; font-size: 15px; cursor: pointer;margin-left:12px;" (click)="RemoveImage()" *ngIf="Item.Avata != undefined">
                        <i class="fa-duotone fa-trash"></i>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="form-group row">
                  <label class="col-md-2 col-form-label" for="Email">Email<span *ngIf="Item.Email==undefined || Item.Email==''" style="color: red;">&ngsp;(*)</span></label>
                  <div class="col-md-10">
                    <input type="text" id="Email" name="Email" class="form-control" placeholder="" [(ngModel)]="Item.Email" autocomplete="off">
                  </div>
                </div>
                <div class="form-group row">
                  <label class="col-md-2 col-form-label" for="Address">Địa chỉ</label>
                  <div class="col-md-10">
                    <input type="text" id="Address" name="Address" class="form-control" placeholder="" [(ngModel)]="Item.Address" autocomplete="off">
                  </div>
                </div>
                <div class="form-group row">
                  <label class="col-md-2 col-form-label" for="Phone">Số điện thoại</label>
                  <div class="col-md-10">
                    <input type="text" id="Phone" name="Phone" class="form-control" placeholder="" [(ngModel)]="Item.Phone" onkeypress="return event.charCode >= 48 && event.charCode <= 57" autocomplete="off">
                  </div>
                </div>
                <div class="form-group row">
                  <label class="col-md-2 col-form-label" for="">Loại phân quyền<span *ngIf="Item.IsRoleGroup==undefined" style="color: red;">&ngsp;(*)</span></label>
                  <div class="col-md-10">
                    <div style="border: 1px solid #e4e7ea;border-radius: 0.25rem;">
                      <div style=" padding-left: 10px; margin-bottom: 20px; margin-top: 0px;">
                        <div class="circlecheck">
                          <input type="radio" id="f-option" class="circle-1" name="selector" [value]='true' [(ngModel)]="Item.IsRoleGroup" [ngModelOptions]="{standalone: true}">
                          <label for="f-option" style="position: relative; top: 4px;">Theo nhóm quyền</label>
                          <div class="outer-circle"></div>
                        </div>
                      </div>
                      <div *ngIf="Item.IsRoleGroup == true" class="role-to-data">
                        <table class="table table-striped table-role table-bordered datatable dataTable no-footer" id="DataTables_Table_0" role="grid" aria-describedby="DataTables_Table_0_info" style="border-collapse: collapse !important">
                          <thead>
                            <tr role="row">
                              <th class="" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" aria-label="Role: activate to sorlistCatePaget column ascending" style="width: 15px;">STT</th>
                              <th class="" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Name: activate to sort column descending" style="width: 60px;"></th>
                              <th class="" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" aria-label="Date registered: activate to sort column ascending" style="width: 230px;">Tên quyền</th>
                              <th class="" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" aria-label="Role: activate to sorlistCatePaget column ascending" style="width: 288px;">Mô tả</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr *ngFor="let item of listRole; let i = index" role="row" ng-class-odd='odd' ng-class-even='even'>
                              <td style="text-align: center;"><b>{{ i + 1 }}</b></td>
                              <td style="vertical-align: middle;">
                                <input style="margin: auto; display: block;" type="checkbox" value="None" class="checkbox1" [(ngModel)]="item.Check" [ngModelOptions]="{standalone: true}">
                              </td>
                              <td class="sorting_1">{{ item.Name }}</td>
                              <td>
                                {{ item.Note }}
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div *ngIf="Item.IsRoleGroup == false">
                        <table id="tbl-role" class="table table-bordered">
                          <thead>
                            <tr>
                              <th class="stt-role">STT</th>
                              <th class="func-role" style="padding: 5px 1px; width: 55px;">
                                <span>View</span>
                                <input type="checkbox" value="None" class="checkbox1" id="View" name="View" [(ngModel)]="Action.View" (change)="changeAction(1)">
                              </th>
                              <th class="func-role" style="padding: 5px 1px; width: 55px;">
                                <span>Create</span>
                                <input type="checkbox" value="None" class="checkbox1" id="Create" name="Create" [(ngModel)]="Action.Create" (change)="changeAction(2)">
                              </th>
                              <th class="func-role" style="padding: 5px 1px; width: 55px;">
                                <span>Update</span>
                                <input type="checkbox" value="None" class="checkbox1" id="Update" name="Update" [(ngModel)]="Action.Update" (change)="changeAction(3)">
                              </th>
                              <th class="func-role" style="padding: 5px 1px; width: 55px;">
                                <span>Delete</span>
                                <input type="checkbox" value="None" class="checkbox1" id="Delete" name="Delete" [(ngModel)]="Action.Delete" (change)="changeAction(4)">
                              </th>
                              <th class="func-role" style="padding: 5px 1px; width: 55px;">
                                <span>Import</span>
                                <input type="checkbox" value="None" class="checkbox1" id="Import" name="Import" [(ngModel)]="Action.Import" (change)="changeAction(5)">
                              </th>
                              <th class="func-role" style="padding: 5px 1px; width: 55px;">
                                <span>Export</span>
                                <input type="checkbox" value="None" class="checkbox1" id="Export" name="Export" [(ngModel)]="Action.Export" (change)="changeAction(6)">
                              </th>
                              <th class="func-role" style="padding: 5px 1px; width: 55px;">
                                <span>Print</span>
                                <input type="checkbox" value="None" class="checkbox1" id="Print" name="Print" [(ngModel)]="Action.Print" (change)="changeAction(7)">
                              </th>
                              <th class="func-role" style="padding: 5px 1px; width: 55px;">
                                <span>Other</span>
                                <input type="checkbox" value="None" class="checkbox1" id="Other" name="Other" [(ngModel)]="Action.Other" (change)="changeAction(8)">
                              </th>
                              <th class="func-role" style="padding: 5px 1px; width: 55px;">
                                <span>Menu</span>
                                <input type="checkbox" value="None" class="checkbox1" id="Menu" name="Menu" [(ngModel)]="Action.Menu" (change)="changeAction(9)">
                              </th>
                              <th class="func-role" style="padding: 5px 1px; width: 55px;">
                                <span>Full</span>
                                <!-- <input type="checkbox" value="None" class="checkbox1" id="Full" name="Full" value="" [(ngModel)]="Action.Full" (change)="changeAction()"> -->
                              </th>
                              <th class="">Tên chức năng</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr *ngFor="let item of listFunc; let i = index" role="row">
                              <td style=" text-align: center; font-weight: bold;" class="stt-role">{{ i + 1 }}</td>
                              <td class="func-role" style="padding: 5px 1px; width: 55px;">
                                <input type="checkbox" value="None" class="checkbox1" [(ngModel)]="item.View" [ngModelOptions]="{standalone: true}" (change)="changeCell()">
                              </td>
                              <td class="func-role" style="padding: 5px 1px; width: 55px;">
                                <input type="checkbox" value="None" class="checkbox1" [(ngModel)]="item.Create" [ngModelOptions]="{standalone: true}" (change)="changeCell()">
                              </td>
                              <td class="func-role" style="padding: 5px 1px; width: 55px;">
                                <input type="checkbox" value="None" class="checkbox1" [(ngModel)]="item.Update" [ngModelOptions]="{standalone: true}" (change)="changeCell()">
                              </td>
                              <td class="func-role" style="padding: 5px 1px; width: 55px;">
                                <input type="checkbox" value="None" class="checkbox1" [(ngModel)]="item.Delete" [ngModelOptions]="{standalone: true}" (change)="changeCell()">
                              </td>
                              <td class="func-role" style="padding: 5px 1px; width: 55px;">
                                <input type="checkbox" value="None" class="checkbox1" [(ngModel)]="item.Import" [ngModelOptions]="{standalone: true}" (change)="changeCell()">
                              </td>
                              <td class="func-role" style="padding: 5px 1px; width: 55px;">
                                <input type="checkbox" value="None" class="checkbox1" [(ngModel)]="item.Export" [ngModelOptions]="{standalone: true}" (change)="changeCell()">
                              </td>
                              <td class="func-role" style="padding: 5px 1px; width: 55px;">
                                <input type="checkbox" value="None" class="checkbox1" [(ngModel)]="item.Print" [ngModelOptions]="{standalone: true}" (change)="changeCell()">
                              </td>
                              <td class="func-role" style="padding: 5px 1px; width: 55px;">
                                <input type="checkbox" value="None" class="checkbox1" [(ngModel)]="item.Other" [ngModelOptions]="{standalone: true}" (change)="changeCell()">
                              </td>
                              <td class="func-role" style="padding: 5px 1px; width: 55px;">
                                <input type="checkbox" value="None" class="checkbox1" [(ngModel)]="item.Menu" [ngModelOptions]="{standalone: true}" (change)="changeCell()">
                              </td>
                              <td class="func-role" style="padding: 5px 1px; width: 55px;">
                                <input type="checkbox" value="None" class="checkbox1" [(ngModel)]="item.Full" [ngModelOptions]="{standalone: true}" (change)="changeFull(i)">
                              </td>
                              <td>
                                <span [innerHTML]="item.Space"></span><span>{{item.Name}}</span>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" appNoDblClickMat (click)="AddUserFunc()">Lưu</button>
          <button type="button" class="btn btn-danger" (click)="UserModal.hide()">Đóng</button>
        </div>
      </div>
    </form>
  </div>
</div>
<div [config]="{backdrop: 'static',  keyboard: false}" bsModal #ResetModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-big" role="document">
    <form class="login-form">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title">Reset mật khẩu người dùng</h4>
          <button type="button" class="close" (click)="ResetModal.hide()" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="card">
            <div class="card-body body-form-add-new">
              <div class="col-sm-12 col-md-12" style="margin:20px 0px">
                <div class="form-group row">
                  <label class="col-md-2 col-form-label" for="FullName">Mật khẩu mới<span *ngIf="Item.PasswordNew==undefined || Item.PasswordNew==''" style="color: red;">&ngsp;(*)</span></label>
                  <div class="col-md-10">
                    <input type="text" id="PasswordNew" name="PasswordNew" class="form-control" placeholder="" [(ngModel)]="Item.PasswordNew" autocomplete="off">
                  </div>
                </div>

              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" appNoDblClickMat (click)="ResetPass()">Lưu</button>
          <button type="button" class="btn btn-danger" (click)="ResetModal.hide()">Đóng</button>
        </div>
      </div>
    </form>
  </div>
</div>
<!--Modal Views Media File-->
<div [config]="{backdrop: 'static',  keyboard: false}" bsModal #OpenMediaFile="bs-modal" class="modal fade modal-views-media" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="attachments-wrapper">
    <div class="edit-media-header">
      <div class="media-frame-title"><h1>Thư viện Media</h1></div>
      <button type="button" class="media-modal-close" (click)="CloseMediaModal()"><i class="fa fa-times" aria-hidden="true"></i></button>
    </div>
    <div class="media-frame-router">
      <ul class="head-tab">
        <li class="item {{isActiveMedia ? 'active' : ''}}" (click)="tabHandleMedia()">Thư viện</li>
        <li class="item {{isActiveUpload ? 'active' : ''}}" (click)="tabHandleMediaUpload()">Tải lên</li>
      </ul>
    </div>
    <div class="upload-file {{isActiveUpload ? 'active' : 'hiden'}}">
      <div class="wapper-modal-upload">
        <div class="modal-content">
          <div class="modal-body">
            <div class="card" style="border: none; padding: 1.5rem; margin-bottom: unset;">
              <div class="card-body body-form-add-new">
                <div class="col-sm-12 col-md-12">
                  <div class="form-group">
                    <div class="drag-drop-area">
                      <div class="drag-drop-inside">
                        <p class="drag-drop-info">Tải lên từ máy tính</p>
                        <div class="progress" style=" height: 14px; margin-top: 10px; font-style: italic; font-weight: 500;" *ngIf="progress!=undefined">
                          <div class="progress-bar progress-bar-striped bg-success"
                               role="progressbar"
                               aria-valuemin="0"
                               aria-valuemax="100"
                               [style.width.%]="progress"
                               [attr.aria-valuenow]="progress">
                            {{progress}}%
                          </div>
                        </div>
                        <p class="text-center" style=" font-size: 14px; margin: 10px 0; color: #005b0c;">(Có thể tải cùng lúc nhiều file)</p>
                        <p class="drag-drop-buttons">
                          <label for="upload-photo" class="label-upload">Tải lên <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="cloud-upload-alt" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" class="svg-inline--fa fa-cloud-upload-alt fa-w-20"><path fill="currentColor" d="M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z" class=""></path></svg></label>
                          <input #file type="file" (change)="upload3(file.files, 1)" id="upload-photo" multiple />
                        </p>
                      </div>
                      <div class="post-upload-ui" id="post-upload-info">
                        <p class="max-upload-size">
                          Kích thước tập tin tải lên tối đa: 512 MB
                        </p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="main-media {{isActiveMedia ? 'active' : 'hiden'}}">
      <div class="attachments-ui" #scrollMe>
        <div class="attachment save-ready" *ngFor="let item of listItemMedia; let i = index">
          <div class="thumb" (click)="SeclectMedia(item)">
            <img src="{{staticDomainMedia}}{{ item.url }}/{{ item.name }}" alt="{{item.name}}" *ngIf="item.type == 1" />
            <img src="{{staticDomain}}images/document.png" alt="media upload" *ngIf="item.type == 4" />
            <img src="{{staticDomain}}images/audio.png" alt="media upload" *ngIf="item.type == 2" />
            <img src="{{staticDomain}}images/video.png" alt="media upload" *ngIf="item.type == 3" />
          </div>
        </div>
      </div>
      <div class="load-more-wrapper">
        <span class="spinner"></span>
        <p class="load-more-count">Đang hiển thị {{countMedia}} của {{countAllMedia}} file media</p>
        <button type="button" class="button load-more button-primary {{isDelay ? 'hiden' : ''}}" (click)="loadMore()">Tải thêm</button>
        <!--<button type="button" class="button chonse-media button-primary {{isDelay ? 'hiden' : ''}}" (click)="ChonseImage()">Chọn ảnh</button>-->
        <div class="{{isDelay ? 'active' : 'hiden'}}">
          <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin:auto;background:#fff;display:block;" width="60px" height="200px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">
            <g>
              <circle cx="73.801" cy="68.263" fill="#e15b64" r="3">
                <animateTransform attributeName="transform" type="rotate" calcMode="spline" values="0 50 50;360 50 50" times="0;1" keySplines="0.5 0 0.5 1" repeatCount="indefinite" dur="1.4925373134328357s" begin="0s"></animateTransform>
              </circle>
              <circle cx="68.263" cy="73.801" fill="#f47e60" r="3">
                <animateTransform attributeName="transform" type="rotate" calcMode="spline" values="0 50 50;360 50 50" times="0;1" keySplines="0.5 0 0.5 1" repeatCount="indefinite" dur="1.4925373134328357s" begin="-0.062s"></animateTransform>
              </circle>
              <circle cx="61.481" cy="77.716" fill="#f8b26a" r="3">
                <animateTransform attributeName="transform" type="rotate" calcMode="spline" values="0 50 50;360 50 50" times="0;1" keySplines="0.5 0 0.5 1" repeatCount="indefinite" dur="1.4925373134328357s" begin="-0.125s"></animateTransform>
              </circle>
              <circle cx="53.916" cy="79.743" fill="#abbd81" r="3">
                <animateTransform attributeName="transform" type="rotate" calcMode="spline" values="0 50 50;360 50 50" times="0;1" keySplines="0.5 0 0.5 1" repeatCount="indefinite" dur="1.4925373134328357s" begin="-0.187s"></animateTransform>
              </circle>
              <circle cx="46.084" cy="79.743" fill="#849b87" r="3">
                <animateTransform attributeName="transform" type="rotate" calcMode="spline" values="0 50 50;360 50 50" times="0;1" keySplines="0.5 0 0.5 1" repeatCount="indefinite" dur="1.4925373134328357s" begin="-0.25s"></animateTransform>
              </circle>
              <circle cx="38.519" cy="77.716" fill="#6492ac" r="3">
                <animateTransform attributeName="transform" type="rotate" calcMode="spline" values="0 50 50;360 50 50" times="0;1" keySplines="0.5 0 0.5 1" repeatCount="indefinite" dur="1.4925373134328357s" begin="-0.312s"></animateTransform>
              </circle>
              <circle cx="31.737" cy="73.801" fill="#637cb5" r="3">
                <animateTransform attributeName="transform" type="rotate" calcMode="spline" values="0 50 50;360 50 50" times="0;1" keySplines="0.5 0 0.5 1" repeatCount="indefinite" dur="1.4925373134328357s" begin="-0.375s"></animateTransform>
              </circle>
              <circle cx="26.199" cy="68.263" fill="#6a63b6" r="3">
                <animateTransform attributeName="transform" type="rotate" calcMode="spline" values="0 50 50;360 50 50" times="0;1" keySplines="0.5 0 0.5 1" repeatCount="indefinite" dur="1.4925373134328357s" begin="-0.437s"></animateTransform>
              </circle>
              <animateTransform attributeName="transform" type="rotate" calcMode="spline" values="0 50 50;0 50 50" times="0;1" keySplines="0.5 0 0.5 1" repeatCount="indefinite" dur="1.4925373134328357s"></animateTransform>
            </g>
          </svg>
        </div>
      </div>
    </div>
  </div>
</div>
