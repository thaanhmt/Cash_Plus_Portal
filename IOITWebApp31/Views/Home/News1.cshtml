@model IEnumerable<IOITWebApp31.Models.EF.News>
@using IOITWebApp31.Models;

@{
    ViewData["Title"] = "News";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="url-page">
    <div class="container">
        <div class="title-url">@ViewBag.SeoTitle</div>
        <ul>
            <li><a href="javascript:void(0)" title="">Trang chủ</a></li>
            <li><span>@ViewBag.SeoTitle</span></li>
        </ul>
    </div>
</div>

<div class="maincontainer">
    <div class="container">
        <div class="row">
            <!-- Left column -->
            @await Component.InvokeAsync("BlockNewsMostView", new { Number = 5 })
            <!-- End leftcolumn -->
            <!-- main column -->
            <div class="maincolumn2">
                <h1 class="title">@ViewBag.SeoTitle</h1>
                @if (Model != null)
                {
                    if (Model.Count() > 0)
                    {
                        @foreach (var item in Model)
                        {
                            <div class="news col-xs-12 col-md-4">
                                <div class="img-news">
                                    <a href="/@(Const.DETAIL_NEWS + "/" + item.Url + "-" + item.NewsId + ".html")" title="@item.Title"><img src="/uploads/@item.Image" class="img-responsive" alt="@item.Title"></a>
                                    <span>@item.DateStartActive.Value.ToString("dd/MM/yyyy")</span>
                                </div>
                                <div class="title-news"><a href="/@(Const.DETAIL_NEWS + "/" + item.Url + "-" + item.NewsId + ".html")" title="@item.Title">@item.Title</a></div>
                                <div class="text-news">@item.Description</div>
                            </div>
                        }
                    }
                }

                <div class="pagenum col-xs-12">
                    @if (int.Parse(ViewBag.total.ToString()) >= 0)
                    {
                        <ul>
                            <li><span>Trang</span></li>
                            @if ((int)ViewBag.Pre <= 0)
                            {
                            }
                            else
                            {
                                <li><a href='/@("tin-tuc-" + ViewBag.Pre + ".html")'><i class="fa fa-long-arrow-left" aria-hidden="true"></i></a></li>
                            }

                            @for (int i = 1; i <= (int.Parse(ViewBag.total.ToString()) / 9) + 1; i++)
                            {
                                if (ViewBag.Page == i)
                                {
                                    <li class="active"><a href='/@("tin-tuc-" + i + ".html")'>@i</a></li>
                                }
                                else
                                {
                                    <li><a href='/@("tin-tuc-" + i + ".html")'>@i</a></li>
                                }
                            }

                            @if ((int)ViewBag.Next > (int.Parse(ViewBag.total.ToString()) / 9) + 1)
                            {
                            }
                            else
                            {
                                <li><a href='/@("tin-tuc-" + (ViewBag.Next) + ".html")' hidden="hidden"><i class="fa fa-long-arrow-right" aria-hidden="true"></i></a></li>
                            }
                        </ul>
                    }
                </div>

            </div>
        </div>
    </div>
</div>

