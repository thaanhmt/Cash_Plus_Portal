@model IEnumerable<IOITWebApp31.Models.Data.NewsDTO>
@using IOITWebApp31.Models;


@{
    ViewData["Title"] = "LibraryImage";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="url-page">
    <div class="container">
        <div class="title-url">@ViewBag.SeoTitle</div>
        <ul>
            <li><a href="/" title="">Trang chủ</a></li>
            <li><span>@ViewBag.SeoTitle</span></li>
        </ul>
    </div>
</div>

<div class="maincontainer">
    <div class="container">
        <div class="row">

            <div class="page-gallery">
                <h1 class="title dk">@ViewBag.SeoTitle</h1>
                @{ int k = 1;}
                @if (Model != null)
                {
                    if (Model.Count() > 0)
                    {
                        foreach (var item in Model)
                        {
                            <div class="picture col-xs-6 col-md-3">
                                <div class="img-pic">
                                    <ul id="lightgallery-@k" class="list-unstyled">
                                        @{ int j = 0;}
                                        @foreach (var image in item.listAttachment)
                                        {
                                            if (j == 0)
                                            {
                                                <li class="img-g" data-responsive="/uploads/@image.Url 375, /uploads/@image.Url 480, /uploads/@image.Url 800" data-src="/uploads/@image.Url">
                                                    <a href=""><img class="img-responsive" src="/uploads/@image.Url" alt="@item.Title"> </a>
                                                    <div class="info-pic">
                                                        <div class="bg-pic">
                                                            <div class="bg-pic2">
                                                                <div class="title-pic"><a href="javascript:void(0)" title="@item.Title"><h2>@item.Title</h2></a></div>
                                                                <div class="text-pic">@(item.Description.Length > 180 ? item.Description.Substring(0, item.Description.Substring(0, 180).LastIndexOf(' ')) + "..." : item.Description)</div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </li>
                                            }
                                            else
                                            {
                                                <li class="img-g" data-responsive="/uploads/@image.Url 375, /uploads/@image.Url 480, /uploads/@image.Url 800" data-src="/uploads/@image.Url">
                                                    <a href=""> <img class="img-responsive"  alt="@item.Title" src="/uploads/@image.Url"></a>
                                                </li>
                                            }
                                            j++;
                                        }
                                    </ul>
                                </div>
                            </div>
                            k++;
                        }
                    }
                }

                <div class="pagenum col-xs-12">
                    @if (int.Parse(ViewBag.total.ToString()) > 12)
                    {
                        <ul>
                            <li><span>Trang</span></li>
                            @if ((int)ViewBag.Pre <= 0)
                            {
                            }
                            else
                            {
                                <li><a href='/@("thu-vien-anh-" + ViewBag.Pre + ".html")'><i class="fa fa-long-arrow-left" aria-hidden="true"></i></a></li>
                            }

                            @for (int i = 1; i <= (int.Parse(ViewBag.total.ToString()) / 12) + 1; i++)
                            {
                                if (ViewBag.Page == i)
                                {
                                    <li class="active"><a href='/@("thu-vien-anh-" + i + ".html")'>@i</a></li>
                                }
                                else
                                {
                                    <li><a href='/@("thu-vien-anh-" + i + ".html")'>@i</a></li>
                                }
                            }

                            @if ((int)ViewBag.Next > (int.Parse(ViewBag.total.ToString()) / 12) + 1)
                            {
                            }
                            else
                            {
                                <li><a href='/@("thu-vien-anh-" + (ViewBag.Next) + ".html")' hidden="hidden"><i class="fa fa-long-arrow-right" aria-hidden="true"></i></a></li>
                            }
                        </ul>
                    }
                </div>
            </div>

        </div>
    </div>
</div>

